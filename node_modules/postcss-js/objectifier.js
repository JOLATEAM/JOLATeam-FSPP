<<<<<<< HEAD
let camelcase = require('camelcase-css')

let UNITLESS = {
  boxFlex: true,
  boxFlexGroup: true,
  columnCount: true,
  flex: true,
  flexGrow: true,
  flexPositive: true,
  flexShrink: true,
  flexNegative: true,
  fontWeight: true,
  lineClamp: true,
  lineHeight: true,
  opacity: true,
  order: true,
  orphans: true,
  tabSize: true,
  widows: true,
  zIndex: true,
  zoom: true,
  fillOpacity: true,
  strokeDashoffset: true,
  strokeOpacity: true,
  strokeWidth: true
}

function atRule(node) {
=======
var camelcase = require('camelcase-css')

function atRule (node) {
>>>>>>> d64897a83ee05dfaaf4e857f6a92bd00c77921de
  if (typeof node.nodes === 'undefined') {
    return true
  } else {
    return process(node)
  }
}

<<<<<<< HEAD
function process(node) {
  let name
  let result = {}

  node.each(child => {
=======
function process (node) {
  var name
  var result = { }

  node.each(function (child) {
>>>>>>> d64897a83ee05dfaaf4e857f6a92bd00c77921de
    if (child.type === 'atrule') {
      name = '@' + child.name
      if (child.params) name += ' ' + child.params
      if (typeof result[name] === 'undefined') {
        result[name] = atRule(child)
      } else if (Array.isArray(result[name])) {
        result[name].push(atRule(child))
      } else {
        result[name] = [result[name], atRule(child)]
      }
    } else if (child.type === 'rule') {
<<<<<<< HEAD
      let body = process(child)
      if (result[child.selector]) {
        for (let i in body) {
=======
      var body = process(child)
      if (result[child.selector]) {
        for (var i in body) {
>>>>>>> d64897a83ee05dfaaf4e857f6a92bd00c77921de
          result[child.selector][i] = body[i]
        }
      } else {
        result[child.selector] = body
      }
    } else if (child.type === 'decl') {
<<<<<<< HEAD
      if (child.prop[0] === '-' && child.prop[1] === '-') {
        name = child.prop
      } else {
        name = camelcase(child.prop)
      }
      let value = child.value
      if (!isNaN(child.value) && UNITLESS[name]) {
        value = parseFloat(child.value)
      }
=======
      name = camelcase(child.prop)
      var value = child.value
>>>>>>> d64897a83ee05dfaaf4e857f6a92bd00c77921de
      if (child.important) value += ' !important'
      if (typeof result[name] === 'undefined') {
        result[name] = value
      } else if (Array.isArray(result[name])) {
        result[name].push(value)
      } else {
        result[name] = [result[name], value]
      }
    }
  })
  return result
}

module.exports = process
